<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>fetch - another example - from developers.google.com</title>
  </head>

  <body>
    <a href="https://developers.google.com/web/updates/2015/03/introduction-to-fetch"
      >This example is available in this url</a
    >
  </body>
  <script>
    var myAPIurl = "https://my-json-server.typicode.com/classicoman2/fakeRESTserver/characters";

    fetch(myAPIurl + "/1")
      .then(function (response) {
        if (response.status !== 200) {
          console.warn("Hi ha un problema amb el fetch");
          return;
        }
        // En lloc d'encadenar then(), puc resoldre la promesa aqui
        response.json().then(function (data) {
          //console.log(data);
          console.log("id=" + data.id + " name=" + data.name);
        });
      })
      .catch(function (err) {
        console.log("Fetch Error :", err);
      });
  </script>
</html>

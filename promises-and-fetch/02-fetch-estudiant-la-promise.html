<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Fetch - estudiant les promises vs. AJAX</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
</head>

<body>
    <img id="foto" src="" />
</body>
<script>
    //Torna un valor random entre 1 i 3
    function randomNumber(max) {
        return Math.ceil(Math.random(max))
    }

    let myAPIurl = "https://my-json-server.typicode.com/classicoman2/fakeRESTserver/posts"
    let postNumber = randomNumber(5);

    fetch(myAPIurl + "/" + postNumber)
        .then(function (response) {
            console.log(response)
            console.log(response.json())
            //            let post = JSON.parse(response)
            //          document.getElementById("foto").src = JSON.parse(response).img
        })
        .catch(function (error) {
            console.log("There's no post associated to id=" + postNumber)
        });

</script>

</html>